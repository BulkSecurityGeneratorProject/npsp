<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="umayanga (generated)" id="1550643865040-1">
        <createTable tableName="schedule_weekdays">
            <column name="schedules_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="weekdays_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-2">
        <addColumn tableName="route_location">
            <column name="locations_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-3">
        <addColumn tableName="route_location">
            <column name="routes_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-4">
        <addColumn tableName="schedule_vehicle_facility">
            <column name="schedules_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-5">
        <addColumn tableName="trip">
            <column name="special_notes" type="longtext"/>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-6">
        <addColumn tableName="schedule_vehicle_facility">
            <column name="vehicle_facilities_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-7">
        <addColumn tableName="vehicle_vehicle_facility">
            <column name="vehicle_facilities_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-8">
        <addColumn tableName="vehicle_vehicle_facility">
            <column name="vehicles_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-9">
        <addColumn tableName="weekday">
            <column name="weekday" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-10">
        <addPrimaryKey columnNames="schedules_id, weekdays_id" tableName="schedule_weekdays"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-11">
        <createIndex indexName="IX_null" tableName="route_location" unique="true">
            <column name="routes_id"/>
            <column name="locations_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-12">
        <createIndex indexName="IX_null" tableName="schedule_vehicle_facility" unique="true">
            <column name="schedules_id"/>
            <column name="vehicle_facilities_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-13">
        <createIndex indexName="IX_null" tableName="vehicle_vehicle_facility" unique="true">
            <column name="vehicles_id"/>
            <column name="vehicle_facilities_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-14">
        <addForeignKeyConstraint baseColumnNames="start_location_id" baseTableName="route" constraintName="FK1588pd1a340gdn1rig61li8ox" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-15">
        <addForeignKeyConstraint baseColumnNames="routes_id" baseTableName="route_location" constraintName="FK1mcjxni1o76i1f9f0lo0rsom0" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="route"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-16">
        <addForeignKeyConstraint baseColumnNames="locations_id" baseTableName="route_location" constraintName="FK37j63o753pdga9w9w356dbpai" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-17">
        <addForeignKeyConstraint baseColumnNames="location_type_id" baseTableName="location" constraintName="FK47pk9c008u23eol1yijbo817" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location_type"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-18">
        <addForeignKeyConstraint baseColumnNames="schedules_id" baseTableName="schedule_vehicle_facility" constraintName="FK5jondvnahjr7rnedd9pf38wa8" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="schedule"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-19">
        <addForeignKeyConstraint baseColumnNames="schedule_id" baseTableName="trip" constraintName="FK7miyoext6mxl6q72hl495csot" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="schedule"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-20">
        <addForeignKeyConstraint baseColumnNames="schedules_id" baseTableName="schedule_weekdays" constraintName="FK7p7gwhk1r3k1wu1tvdfpr5v2o" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="schedule"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-21">
        <addForeignKeyConstraint baseColumnNames="parking_slot_id" baseTableName="trip" constraintName="FKcd4cwpx3tvm710kfiyybpm5k1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="parking_slot"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-22">
        <addForeignKeyConstraint baseColumnNames="vehicle_facilities_id" baseTableName="vehicle_vehicle_facility" constraintName="FKd4t3yk87w0nhpn0oevx0cduj5" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-23">
        <addForeignKeyConstraint baseColumnNames="vehicle_facilities_id" baseTableName="schedule_vehicle_facility" constraintName="FKearl6ufgp8anelyc8no3qy4ch" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-24">
        <addForeignKeyConstraint baseColumnNames="end_location_id" baseTableName="schedule" constraintName="FKecug4i4dgm3lchk2gofqils9k" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-25">
        <addForeignKeyConstraint baseColumnNames="start_location_id" baseTableName="schedule" constraintName="FKgod7f1igry2jxevh9a8idxpoj" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-26">
        <addForeignKeyConstraint baseColumnNames="end_location_id" baseTableName="route" constraintName="FKh6d2i21bxoqy8b6cbukiaak10" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-27">
        <addForeignKeyConstraint baseColumnNames="transport_type_id" baseTableName="vehicle" constraintName="FKht80qia9ria9j4jg5wp4co25b" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="transport_type"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-28">
        <addForeignKeyConstraint baseColumnNames="weekdays_id" baseTableName="schedule_weekdays" constraintName="FKixd2r1soab1foei6dd4b8k9xe" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="weekday"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-29">
        <addForeignKeyConstraint baseColumnNames="route_id" baseTableName="schedule" constraintName="FKnijrqlnbae9vvpgj6pnaqrl0q" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="route"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-30">
        <addForeignKeyConstraint baseColumnNames="parking_area_id" baseTableName="parking_slot" constraintName="FKnq3rfobvkaldtemtr67x8l8p2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="parking_area"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-31">
        <addForeignKeyConstraint baseColumnNames="location_id" baseTableName="parking_area" constraintName="FKpwkbg2oed0623ai9x6aj0j6hk" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-32">
        <addForeignKeyConstraint baseColumnNames="vehicle_id" baseTableName="trip" constraintName="FKrji8htecrp06ao6s7nfubswnr" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="vehicle"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-33">
        <addForeignKeyConstraint baseColumnNames="vehicles_id" baseTableName="vehicle_vehicle_facility" constraintName="FKrkdnga7pj12an52o7gn07p24r" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="vehicle"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-34">
        <addForeignKeyConstraint baseColumnNames="owner_id" baseTableName="vehicle" constraintName="FKtkpo82qb28xf0wvk5xj7fmle2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="vehicle_owner"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-35">
        <dropTable tableName="coordinate"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-36">
        <dropTable tableName="schedule_weekday"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-37">
        <dropColumn columnName="location_id" tableName="route_location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-38">
        <dropColumn columnName="route_id" tableName="route_location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-39">
        <dropColumn columnName="schedule_id" tableName="schedule_vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-40">
        <dropColumn columnName="vehicle_facility_id" tableName="schedule_vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-41">
        <dropColumn columnName="vehicle_facility_id" tableName="vehicle_vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-42">
        <dropColumn columnName="vehicle_id" tableName="vehicle_vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-43">
        <dropColumn columnName="weekday_meta" tableName="weekday"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-44">
        <dropColumn columnName="weekday_name" tableName="weekday"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-45">
        <dropPrimaryKey tableName="route_location"/>
        <addPrimaryKey columnNames="routes_id, locations_id" tableName="route_location"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-46">
        <dropPrimaryKey tableName="schedule_vehicle_facility"/>
        <addPrimaryKey columnNames="schedules_id, vehicle_facilities_id" tableName="schedule_vehicle_facility"/>
    </changeSet>
    <changeSet author="umayanga (generated)" id="1550643865040-47">
        <dropPrimaryKey tableName="vehicle_vehicle_facility"/>
        <addPrimaryKey columnNames="vehicles_id, vehicle_facilities_id" tableName="vehicle_vehicle_facility"/>
    </changeSet>
</databaseChangeLog>
